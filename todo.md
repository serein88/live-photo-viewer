# todo（唯一任务池）

使用规则：
- 仅从“开发中”顶部开始做。
- 完成改动后移到“待检查”，用户验证通过后再移到“已完成”。
- 每条尽量包含可观察的验收标准。

## 开发中（按优先级）

- [P0] Android Edge Live 播放兼容
  - 现象：vivo 声音异常；小米/荣耀识别后可能无法播放。
  - 验收：至少 3 个样本（vivo/xiaomi/honor）在 Android Edge 可稳定播放；失败有清晰降级提示与日志。

- [P1] 扫描缓存策略（可选）
  - 目标：基于文件指纹（文件名+大小+时间等）复用“缩略图/live状态”。
  - 验收：二次加载同目录明显更快；缓存体积受控。

- [P1] Android 大批量选择后的首帧卡顿
  - 现象：返回预览界面前“等待选中”时间过长。
  - 验收：indexing 提示更早可见，且用户不误判为卡死。

- [P1] Windows 大批量缩略图压力
  - 目标：首屏优先 + 分批渲染 + 并发限制。
  - 验收：滚动时无明显掉帧，缩略图不反复重载。

- [P2] 选择器提示文案
  - 目标：说明“上传/选文件夹”实际是本地扫描。
  - 验收：首次使用用户能理解该行为不是上传到云端。

- [P2] 更多格式支持（HEIC/TIF 等）
  - 验收：可生成缩略图并可在预览中查看（不要求首轮全部平台一致）。

- [P2] 移动端滑动切图（Android/iOS）
  - 验收：左右滑动切换上一张/下一张，误触可控。

- [P2] Windows 预览后返回网格位置保持
  - 验收：返回后保持滚动位置，不触发整页缩略图重载。

- [P3] 竖屏设备信息面板底部弹出
- [P3] 电脑端左右切图按钮自动淡入淡出
- [P3] 深色/浅色模式跟随系统
- [P3] 视频预览能力（交互与图片一致）
- [P3] 默认排序改为拍摄时间（新→旧）

## 待检查

- 性能：扫描速度优化（Android/Windows 通用）已重构（后台渐进扫描 + 分批渲染），待长目录实测。
- 安卓文件选择策略：默认改为“多选文件”路径，待更多机型验证。

## 已完成

- 荣耀 Live 在大文件夹漏检问题已修复。
- 索引阶段支持提前生成全部占位符。
- 索引速度较此前版本有明显提升。
- 项目结构从单文件迁移到常规目录结构（`index.html + src + vendor`）。

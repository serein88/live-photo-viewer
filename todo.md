# 开发中（按重要性排序）

- 安卓端edge浏览器动图播放有问题，vivo live无法播放声音,而且播放时有视频控件一闪而过。小米和荣耀live能识别出未live，但是无法播放。其它浏览器比如chrome和via均为出现上述情况。

- 同一个文件的缩略图还有是否为live的这个状态尝试写入缓存，依靠文件名+拍摄时间+文件体积等合适的标签锁定同一个文件。当以后再次选中这个文件夹时，如果有匹配到的缓存，直接加载即可，先看一下缓存文件会不会太大，如果接近选中文件夹的本体体积，那还是算了

- 安卓端选中很多个文件再返回预览界面之后，需要耗时很久，“等待选中”阶段会卡比较久，索引阶段时间可以接受。

- 性能：Windows 大批量图片缩略图加载慢；同屏生成过多缩略图导致卡顿。优化加载策略（首屏优先、分批加载、降低并发）。

- 体验：增加提示，说明某些浏览器点击“上传/选择文件夹”不是上传，而是扫描文件夹中的 Live 图。

- 功能：HEIC格式的图片不能生成缩略图，也不能查看照片，加入支持更多格式的照片，包括但不限于heic，tif，等等

- 体验：Android / iOS 支持滑动切换上一张/下一张。

- 性能/体验：Windows 缩略图界面，选中图片时会滚动到顶部并触发缩略图重载；优化保持滚动位置并避免重载。

- UI：竖屏设备（Android/iOS/平板）信息面板从底部弹出，减少占用图片空间。

- UI：电脑端鼠标移动时显示“上一张/下一张”按钮，静止时隐藏；显示/隐藏 0.5s 淡入淡出。

- UI：支持深色模式和浅色模式，并支持跟随系统

- 功能：支持视频预览（可引入开源方案），交互与图片一致。

- 优化：默认排序改为“拍摄时间（新→旧）”。

# 待检查



# 已完成

- 性能：扫描速度优化（Android/Windows 通用）已实现一轮重构，待实测。————通过后台逐步扫描实现优化

- 安卓端文件选择策略切换为“方案 3（多选文件）”：`folderBtn` 在 Android 直接触发多选，不再走目录选择链路。

- Bug：Android 端 Live 图可识别但无法播放；进入预览可显示静态图但无法自动播放，手动点播放也无效。调试结论：
- （1）via + 厂商定制文件选择器：支持多选/滑选，vivo 实测上限约 100 张。
- （2）Edge/Chrome + 安卓系统文件夹选择器：兼容性差，vivo 可能无音频，荣耀/小米可能无法播放。
- （3）Edge/Chrome + 安卓系统文件多选（非文件夹）：可选数量更高，且 Live 播放稳定。此方案确定为安卓端默认策略。

- 安卓端快捷调试
cd E:\CodeSpace\live-photo-viewer
python -m http.server 8080

